<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Justin Miranda-Three</title>
    <link rel="stylesheet" href="/src/styles/main.css" />
  </head>
  <body>
    <div class="circuit-background"></div>
    <canvas class="binary-rain" id="binaryRain"></canvas>

    <div class="splash-container">
      <div class="glitch" data-text="INTERACTIVE MOTHERBOARD RESUME">
        <h1>INTERACTIVE MOTHERBOARD RESUME</h1>
      </div>
      <p>
        Welcome to my interactive motherboard resume. Explore my skills,
        experience, and qualifications as you navigate a virtual circuit board,
        where each component represents a key part of my journey in front-end
        development.
      </p>

      <div class="loading-bar">
        <div class="loading-progress" id="loadingProgress"></div>
      </div>

      <button
        class="enter-button"
        id="enterButton"
        onclick="window.location.href='splash.html'"
      >
        ENTER
      </button>
    </div>

    <script>
      // Simulate loading progress
      document.addEventListener("DOMContentLoaded", () => {
        const loadingProgress = document.getElementById("loadingProgress");
        const enterButton = document.getElementById("enterButton");

        // Simulate loading
        setTimeout(() => {
          loadingProgress.style.width = "100%";

          // Show enter button when loading completes
          setTimeout(() => {
            enterButton.style.opacity = "1";
            enterButton.style.pointerEvents = "auto";
          }, 4100);
        }, 100);

        // Navigate to main page when enter button is clicked
        enterButton.addEventListener("click", () => {
          window.location.href = "splash.html";
        });

        // Binary rain effect
        const canvas = document.getElementById("binaryRain");
        const ctx = canvas.getContext("2d");

        // Set canvas size to window size
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const chars =
          "01アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン";
        const fontSize = 14;
        const columns = canvas.width / fontSize;

        // Array to track the Y position of each column
        const drops = [];
        for (let i = 0; i < columns; i++) {
          drops[i] = Math.random() * -100;
        }

        // Binary rain animation
        function draw() {
          // Set semi-transparent black background to create trail effect
          ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
          ctx.fillRect(0, 0, canvas.width, canvas.height);

          // Set text color and font
          ctx.fillStyle = "#0f0";
          ctx.font = `${fontSize}px monospace`;

          // Loop through each drop
          for (let i = 0; i < drops.length; i++) {
            // Select a random character
            const text = chars[Math.floor(Math.random() * chars.length)];

            // Draw the character
            ctx.fillText(text, i * fontSize, drops[i] * fontSize);

            // Move the drop down
            drops[i]++;

            // Reset drop if it reaches the bottom or randomly
            if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
              drops[i] = 0;
            }
          }
        }

        // Run the animation
        setInterval(draw, 33);

        // Resize canvas when window is resized
        window.addEventListener("resize", () => {
          canvas.width = window.innerWidth;
          canvas.height = window.innerHeight;
        });
      });
    </script>
  </body>
</html>
